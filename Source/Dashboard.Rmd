---
title: "Stefans Learning-Dashboard"
output: 
  html_document: 
    fig_width: 10
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(scipen=999)
options(stringsAsFactors=FALSE)
options(knitr.kable.NA = '')

library('rvest')
library('readr')
library('jsonlite')
library('knitr')

source("./Config.R")
source("./CodeSchool.R")
source("./TeamTreehouse.R")
source("./Pluralsight.R")

codeschool <- CodeSchool.GetUserInformation(codeschool.username)

### --- DO FURTHER REFACTORING STARTING HERE ----

pluralsight_details$dateCompleted <- as.Date(pluralsight_details$dateCompleted)
pluralsight_details <- pluralsight_details[order(pluralsight_details$percentile),]
colnames(pluralsight_details)[2] <- "Tech"
colnames(pluralsight_details)[6] <- "IQ"
colnames(pluralsight_details)[8] <- "Last measured"

datacamp_points <- html_session(datacamp.profile) %>%
  html_node(".profile-header__stats") %>%
  html_node(".stats-block__number") %>%
  html_text() %>%
  readr::parse_number()

treehouse.points_detailed <- fromJSON(treehouse.profile)
treehouse_points <- treehouse.points_detailed$points$total

codeschool_points <- html_session(codeschool.profile) %>% 
    html_node(".bucket-content .list-item strong") %>% 
    html_text() %>% 
    readr::parse_number()

# github project count
# microsoft mva
# ... certs
punkte <- c(datacamp_points, treehouse_points, codeschool_points)
names(punkte) <- c("DataCamp", "TeamTreehouse", "CodeSchool")
maximalpunktzahl <- c(50696, 131540, 72)

prozentangabenVektor <- punkte / maximalpunktzahl * 100 
names(prozentangabenVektor) <- paste(names(punkte))
prozentangabenVektor = prozentangabenVektor[order(-prozentangabenVektor)]

overviewPerPortal <- as.data.frame(prozentangabenVektor)
colnames(overviewPerPortal)[1] <- "Learning progress %"
overviewPerPortal$`Learning progress %` <- round(overviewPerPortal$`Learning progress %`, digits = 2)

overviewPerPortal <- data.frame(
  portal = rownames(overviewPerPortal),
  `Learning progress %` = overviewPerPortal
)
colnames(overviewPerPortal) <- c("portal", "Learning progress %")
rownames(overviewPerPortal) <- NULL

```

This report as been last updated at **`r format(Sys.time(), format="%Y-%m-%d %H:%m")`**.

## Tech Stack

Target of my tech stack is the development of lasting and enduring web based business applications.

My stack is mainly targeted to Windows development, although going cross platform is possible in the future. My employer is a Microsoft partner and my employers environment is Windows, too, thus targeting Linux or Mac primarily would make no sense. 

While I always keep my mind open to new technologies and libraries I try keeping my professional stuff together unless I see a big advantage in something.

My stack is split into different categories: 

  - important (A)
  - less important (B)
  - present, but seldomly used (C)

General direction: 

  - use the plain language preferred (avoid transpilers, generators and pre- and post processors unless you have a strong advantage from them)
  - when possible use unit tests to secure the code
  - prefer readable sourcecode and good names 
  - Only optimise performance if there is a concrete bottle neck and you are forced to do so. In any other case: 
  - write good comments

**The Stack** 

- **HTML, CSS + Javascript (A)**, needed to build fancy web UIs *(active: ES5, upcoming: ES6 and ES7)*
- **ASP.Net (webforms legacy and mvc) (A)**, backend web server technology *(active: MVC5, upcoming: core or .net MVC6?)*
- **C# (A)**, productive, compiled, good support for unit testing, focus on business *(active: C#6, upcoming: C#7)*
- **MS SQL Server (A)**, as database technology for this part of the stack *(active: 2012, upcoming: 2016? 2018?)*
- **Powershell (A/B)** becoming more and more important, as batch automation language and as a language that is useful for all kinds of administrative tasks *(active: 5, upcoming: core? 6?)*
- **R (A/B)** as a language that helps a lot when doing data analysis, pattern matching, plotting, import/export... with SEO reporting and a lot of other stuff

- **PHP (B)**, for applications that need to be hosted as websites on some linux box I do not have much control over
- **MySQL (B)**, as database for PHP applications

- **C++ (C)**, for the seldom moments where I have a need to talk directly to the system or performance is so important that everything else does not count.

## Knowledge in those technologies

```{r, echo=FALSE, warning=FALSE}

overviewPerTech <- data.frame(list(
  tech = character(),
  certificate = character(),
  pluralsight_score_in_percent = numeric(),
  codeschool_progress = numeric(),
  treehouse_progress = numeric(),
  dataCamp_progress = numeric()
))

techinfo <- function (name, certificate, pluralsightTopics, codeschoolPercent = NA, dataCamp = NA) {
  pluralsight_score <- NA
  if (length(pluralsightTopics) > 0) {
    pluralsight_score <- mean(pluralsight_details[pluralsight_details$id %in% pluralsightTopics,]$score)
    pluralsight_score <- round(pluralsight_score / 300 * 100, 2)
  }
  
  return(
    list(
      tech = name,
      certificate = certificate,
      pluralsight_score_in_percent = pluralsight_score,
      codeschool_progress = codeschoolPercent,
      treehouse_progress = NA,
      dataCamp_progress = round(dataCamp, digits = 2)
    ))
}

overviewPerTech<-rbind(overviewPerTech, techinfo("HTML, CSS, JS", "MS (70-480, 2016)", c("javascript", "jquery", "css", "html5"), codeschoolPercent = mean( c(codeschool$htmlCssPercent, codeschool$javascriptPercent))))
overviewPerTech<-rbind(overviewPerTech, techinfo("ASP.Net", "-", c("aspnet-mvc-5")))

overviewPerTech<-rbind(overviewPerTech, techinfo("C#", "-", c("c-sharp"), codeschoolPercent = codeschool$netPercent))

overviewPerTech<-rbind(overviewPerTech, techinfo("MS SQL Server", "-", c(), codeschoolPercent = codeschool$databasePercent))

overviewPerTech<-rbind(overviewPerTech, techinfo("Powershell", "-", c("powershell")))
overviewPerTech<-rbind(overviewPerTech, techinfo("R", "-", c(), dataCamp = overviewPerPortal[overviewPerPortal$portal == "DataCamp",]$`Learning progress %`, codeschoolPercent =   codeschool$rPercent))

overviewPerTech<-rbind(overviewPerTech, techinfo("PHP", "-", c(), codeschoolPercent = codeschool$phpPercent))
overviewPerTech<-rbind(overviewPerTech, techinfo("MySQL", "-", c("mysql"), codeschoolPercent = codeschool$databasePercent))
overviewPerTech<-rbind(overviewPerTech, techinfo("C++", "-", c("c-plus-plus")))

kable(overviewPerTech, col.names = c("tech", "certificate", "Pluralsight score in %", "CodeSchool Progress %", "Treehouse Progress %", "DataCamp Progress %"))
```

## Tool Knowledge

I use certain tools to accomplish my goals.
Git e.g.
Where is my learning progress here?

  - Git
  - Visual Studio 
  - Rider
  - Resharper
  - nodejs / npm
  - msbuild
  - nuget
  - PHPStorm

## Progress by learning institution / portal

```{r scrape, echo=FALSE, warning=FALSE}
kable(overviewPerPortal)
```

## Knowledge comparison with other developers by Pluralsight

Pluralsight offers tests which you can use to get a guess on how good your knowledge is in a specific area. In a specific time frame you are asked a sequence of questions. Using some advanced techniques (e.g. the level of difficulty of a question is determined by the amount of people who know the right answer relative to the ones who dont; the speed of your answer playes a role etc.) this results in a number of points and a percent value.

The percent value is not a "mark", but the relative position of the assessed one in the context of all pluralsight students that have taken the test. You may only know 50% of an area and still know more than 90% of your fellow students. The 90% in this example are called the IQ.

To keep the numbers up to date I added a rule, that I have to retake a once-taken test every 6 months. To improve the score, and later, to be able to take the test, one has to take part in courses, which adds up hopefully and keeps me in the loop.

```{r scrape pluralsight details, echo=FALSE, warning=FALSE}

pluralsight_iq = pluralsight_details[c("Tech", "IQ")]

pluralsight_details$`IQ` <- round(pluralsight_details$`IQ`, digits=2)

prozentangabenVektor <- pluralsight_iq$`IQ`
names(prozentangabenVektor) <- pluralsight_iq$Tech

aktualisierungNotwendig <- c()
aktualisierungNotwendig <- ifelse(pluralsight_details$`Last measured` < overagedDate, "Update neccessary!", "")

pluralsight_details <- cbind(pluralsight_details, aktualisierungNotwendig)
colnames(pluralsight_details)[9] <- "Update neccessary?"
pluralsight_details$`Last measured` <- format(pluralsight_details$`Last measured`, "%d.%m.%Y")
kable(pluralsight_details[c("Tech", "IQ", "Last measured", "Update neccessary?")], row.names = FALSE)
```

## Treehouse progress details 

Treehouse offers an API, using the same we get detailed points for every category. 
Although Treehouse changes its maximum points all the time, because the courses change all the time, we are able to calculate a progress using the point counts of the best students in a specific area. We get those from https://teamtreehouse.com/community/leaderboards . Note: you'll need to manually update the maximum points every 6 months, the report will remind you.

```{r Treehouse Fortschritt in %, echo=FALSE}
treehouse.maximalePunkte.letztesUpdate <- as.Date("2018-02-03");
if ( treehouse.maximalePunkte.letztesUpdate <= overagedDate ) {
  print("Please visit https://teamtreehouse.com/community/leaderboards and update the maximum points per category using the points of the current leaders per category!")
}
treehouse.wichtigeKategorien <- c(
  "HTML", "CSS", "Design", "JavaScript", "PHP", "WordPress", "Development.Tools",
  "C.", "Databases", "Data.Analysis", "APIs", "Security", "Quality.Assurance")

treehouse.maximalePunkte <- list(
  HTML = 6933,
  CSS = 11423,
  Design = 5033,
  JavaScript = 29958,
  PHP = 8166,
  WordPress = 8192,
  Development.Tools = 4649,
  C. = 12527, # C#
  Databases = 5728,
  Data.Analysis = 908,
  APIs = 756,
  Security = 852,
  Quality.Assurance = 221
)

treehouse.gefiltert <- t(as.data.frame(treehouse.points_detailed$points))
treehouse.gefiltert <- subset(treehouse.gefiltert, row.names(treehouse.gefiltert) %in% treehouse.wichtigeKategorien)

treehouse.gefiltert <- cbind(treehouse.gefiltert, treehouse.maximalePunkte)
treehouse.gefiltert <- cbind(treehouse.gefiltert, round(unlist(treehouse.gefiltert[,1]) / unlist(treehouse.gefiltert[,2]) * 100, digits = 2))

colnames(treehouse.gefiltert)[1] <- "My Points"
colnames(treehouse.gefiltert)[2] <- "Max. Points"
colnames(treehouse.gefiltert)[3] <- "Progress %"

rownames(treehouse.gefiltert)[which(rownames(treehouse.gefiltert) == "C.")] <- "C#"

kable(treehouse.gefiltert, align=c(rep('r',times=3)))
```

Last update of the maximum points has been on **`r format(treehouse.maximalePunkte.letztesUpdate, format="%Y-%m-%d")` ** .


## Features & Todo for this report

Diese Lernportale werden in diesem Überblick verwendet:

  - TeamTreehouse (https://teamtreehouse.com, Videotraining, Programmieraufgaben, GitHub-Projekte & Prüfung durch die Trainer, sowie gegenseitige Code-Reviews der Schüler)
  - CodeSchool (https://codeschool.com), Video & Programmieraufgaben
  - Pluralsight (https://pluralsight.com, Videoschulungen, i.d.R. von führenden Entwicklern oder MVPs der entsprechenden Technologien), sehr gute Videoschulungen und Kenntis-Assessments, aber keine Programmieraufgaben
  - **todo** Microsoft Virtual Academy 
  - **todo** Microsoft Profil (Zertifikate etc.)
  - **todo** https://www.edx.org (Free online courses from the world's best universities)
  - **todo** github-Projekte, Beteiligungen an Open Source
  - **todo** https://www.coursera.org/
  - **todo** https://www.tiobe.com/tiobe-index/ Positionierung des Tech-Stacks innerhalb der generellen Popularität der Programmiersprachen
  - **todo** Einschätzung des Lernfortschrittes von Pluralsight anhand der mögl. interessanten zu gesehenen Videoschulungen
  - **todo** Automatische Aktualisierung der Liste der Zertifikate sowie eine Liste der angestrebten Zertifikate

